<div class="page-header">
    <h6 class="am-padding-top">如未填写时间段，则查询当前时间起24小时的数据</h6>
    <div class="page-searchbox">
        <form action="lottery-player.html" method="post">
            <select name="Game" class="txt" data-bind-action="admin/lottery/gamelist" data-bind-type="ajax" data-bind-callback="select"></select>
            时间段：<input type="datetime-local" name="StartAt" class="txt" /> ～ <input type="datetime-local" name="EndAt" class="txt" />
            <input type="submit" class="am-btn am-btn-success am-round am-btn-xs" value="搜索" />
            <input type="reset" class="am-btn am-btn-xs am-btn-default am-round am-btn-xs" value="重置" />
        </form>
    </div>
</div>
<div class="page-table">
    <table class="list" data-bind-action="admin/report/lotteryuser" data-bind-type="list" data-bind-callback="list" data-bind-load="lottery-user-type,search,list-sort" data-bind-data="parent">
        <thead>
            <tr>
                <th>用户</th>
                <th data-list-sort="true">投注量</th>
                <th data-list-sort="true">派奖量</th>
                <th data-list-sort="true">盈亏</th>
                <th data-list-sort="true">返奖率</th>
            </tr>
        </thead>
        <tbody data-list-element="true">
            <tr>
                <td>${UserName}</td>
                <td>${BetMoney:money}</td>
                <td>${Reward:money}</td>
                <td>${Money:money-show}</td>
                <td>${Return:p}</td>
            </tr>
        </tbody>
    </table>
</div>

<script type="text/javascript">
    BW.load["lottery-user-type"] = function () {
        var t = this;
        var diag = t.dom.element.getParent("[data-bind-post]");
        if (!diag) return;
        var select = diag.getElement("select[name=Game]");
        if (!select) return;
        var data = diag.get("data-bind-post").parseQueryString();
        select.set("data-selected", data["Type"]);
    };
</script>